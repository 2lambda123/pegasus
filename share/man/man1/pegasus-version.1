.\"  Copyright 2010-2011 University Of Southern California
.\"
.\" Licensed under the Apache License, Version 2.0 (the "License");
.\" you may not use this file except in compliance with the License.
.\" You may obtain a copy of the License at
.\"
.\"  http://www.apache.org/licenses/LICENSE-2.0
.\"
.\"  Unless required by applicable law or agreed to in writing,
.\"  software distributed under the License is distributed on an "AS IS" BASIS,
.\"  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
.\"  See the License for the specific language governing permissions and
.\" limitations under the License.
.\"
.\"
.\" $Id$
.\"
.\" Authors: Jens-S. V;ckler
.\"
.\"
.TH "pegasus-version" "1" "3.1.0" "PEGASUS version"
.SH NAME
pegasus\-version \- print or match the version of the toolkit.
.SH SYNOPSIS
.B pegasus-version [ [\-q] \-m | \-V | [ \-f | \-l ] ]
.SH DESCRIPTION
This program prints the version string of the currently active Pegasus
toolkit on
.IR stdout .
.SH ARGUMENTS
.TP
.B \-Dprop
The -D options allows an experienced user to override certain properties
which influence the program execution, among them the default location of
the user's properties file and the PEGASUS home location. One may set several
CLI properties by giving this option multiple times.
.I The -D option(s) must be the first option on the command line. 
CLI properties take precedence over the file-based properties of the same key.
.TP
.B \-f
.PD 0
.TP
.PD 1
.B \-\-full
The full mode displays internal build metrics, like OS type and libc
version, addition to the version number. It appends the build time as
time stamp to the version. The time stamp uses ISO 8601 format, and is a
UTC stamp.
.TP
.B \-l
.PD 0
.TP
.PD 1
.B \-\-long
This option is an alias for 
.I full
mode. 
.TP
.B \-m
.PD 0
.TP
.PD 1
.B \-\-match
In match mode, the internal version is checked against the external
version of the installation. This mode will detect if a jar has been
updated but not the installation it is in. Mismatches will result in an
exit code of 1. 
.IP
In addition, 
.I match
mode implies 
.I long
mode. It will print the full version number, unless 
.I quiet
mode is active. 
.TP
.B \-q
.PD 0
.TP
.PD 1
.B \-\-quiet
This flag is to be combined with match mode above only. If present, the
match mode will not display any message, if the versions match (all is
well). In case of a mismatch, it will only print the error and exit with
status 1.
.TP
.PD 0
.B \-V
.TP
.PD 1
.B \-\-version
displays the version of the PEGASUS Planner you are using.
.TP
.B \-\-verbose
is ignore in this tool. However, to provide a uniform interface for all
tools, the option is recognized and will not trigger an error. 
.SH "RETURN VALUE"
The program will usually return with success (0). In match mode, if the
internal version does not match the external installation, an exit code
of 1 is returned. If run-time errors are detected, an exit code of 2 is
returned, 3 for fatal errors.
.SH "ENVIRONMENT VARIABLES"
.TP
.B $PEGASUS_HOME
is the suggested base directory of your the execution environment.
.TP
.B $JAVA_HOME
should be set and point to a valid location to start the intended Java
virtual machine as
.IR $JAVA_HOME/bin/java .
.TP
.B $CLASSPATH
should be set to contain all necessary files for the execution environment.
.SH EXAMPLE
.nf
\f(CB
$ pegasus-version   
3.1.0cvs

$ pegasus-version -f
3.1.0cvs-x86_64_cent_5.6-20110706191019Z

$ pegasus-version -m 
Compiled into PEGASUS: 20110706191019Z x86_64_cent_5.6
Installation provides: 20110706191019Z x86_64_cent_5.6
OK: Internal version matches installation.
Complete version info: 3.1.0cvs-x86_64_cent_5.6-20110706191019Z
\fP
.fi
.PP
.SH AUTHORS
Jens-S. VÃ¶ckler <voeckler at isi dot edu>
.PP
Pegasus
.B http://pegasus.isi.edu
.br
