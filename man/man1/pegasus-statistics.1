.\"  Copyright 2010-2011 University Of Southern California
.\"
.\" Licensed under the Apache License, Version 2.0 (the "License");
.\" you may not use this file except in compliance with the License.
.\" You may obtain a copy of the License at
.\"
.\"  http://www.apache.org/licenses/LICENSE-2.0
.\"
.\"  Unless required by applicable law or agreed to in writing,
.\"  software distributed under the License is distributed on an "AS IS" BASIS,
.\"  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
.\"  See the License for the specific language governing permissions and
.\" limitations under the License.
.\"
.\"
.\" $Id$
.\"
.\" Authors: Prasanth Thomas
.\"
.TH "pegasus-statistics" "1" "1.0.0" "PEGASUS Workflow Planner"
.SH "NAME"
pegasus-statistics \- A tool to generate statistics about the workflow run.

.SH "SYNOPSIS"
.B pegasus-statistics <submit directory>
[\-h|\-\-help]
[\-o|\-\-output <output directory>] 
[\-c|\-\-conf <property file path>]
[\-p|\-\-statistics\-level level_str]
[\-t|\-\-time\-filter filter_str]
[\-i|\-\-ignore\-db\-inconsistency]
[\-v|\-\-verbose]
[\-q|\-\-quiet] 

.SH "DESCRIPTION"
pegasus-statistics generates statistics about the workflow run like total jobs/tasks/sub workflows ran , how many succeeded/failed etc.
It generates job instance statistics like run time, condor queue delay etc. 
It generates invocation statistics information grouped by transformation name.
It also generates job instance and invocation statistics information grouped by time and host. 

.SH "ARGUMENTS"

.TP
.B \-h
.PD 0
.TP
.PD 1
.B \-\-help 
Prints a usage summary with all the available command-line options.

.TP
.B \-o <output directory>
.PD 0
.TP
.PD 1
.B \-\-output  <output directory>
Writes the output to the given directory. 

.TP
.B \-c <property file path>
.PD 0
.TP
.PD 1
.B \-\-conf  <property file path>
The properties file to use. This option overrides all other property files.

.TP
.B \-s level_str
.PD 0
.TP
.PD 1
.B \-\-statistics\-level  level_str
Specifies the statistics information to generate. Valid levels are:all,summary,wf_stats,jb_stats,tf_stats,ti_stats; Default is summary.
The output generated by pegasus-statistics is based on the the statistics_level set
.RS
.B all : 
generates all the statistics information.
.RE
.RS
.B summary : 
generates the workflow statistics summary .In case of hierarchical workflow the summary is across all sub workflows.
.RE
.RS
.B wf_stats : 
generates the workflow statistics information of each individual workflow. In case of hierarchical workflow the workflow statistics is created for each sub workflows.
.RE
.RS
.B jb_stats : 
generates the job statistics information of each individual workflow.In case of hierarchical workflow the job statistics is created for each sub workflows.
.RE
.RS
.B tf_stats : 
generates the invocation statistics information of each individual workflow grouped by transformation name .In case of hierarchical workflow the transformation statistics is created for each sub workflows.
.RE
.RS
.B ti_stats : 
generates the job instance and invocation statistics like total count and runtime grouped by time and host.
.RE


.TP
.B \-t filter_str
.PD 0
.TP
.PD 1
.B \-\-time\-filter filter_str
 Specifies the time filter to group the time statistics. Valid levels are: month,week,day,hour; Default is day.


.TP
.B \-i
.PD 0
.TP
.PD 1
.B \-\-ignore\-db\-inconsistency
Turn off the the check for database consistency.
 
.TP
.B \-v
.PD 0
.TP
.PD 1
.B \-\-verbose
Increases the log level.  If omitted, the default level will be set to WARNING.  When this option is given, the log level is changed
 to INFO.  If this option is repeated, the log level will be changed to DEBUG.

.TP
.B \-q
.PD 0
.TP
.PD 1
.B \-\-quiet
Decreases the log level.  If omitted, the default level will be set to WARNING.  When this option is given, the log level is changed
 to ERROR.

.SH "EXAMPLE"
.TP
Runs pegasus-statistics and writes the output to the given directory :\-
.nf 
\f(CB
 pegasus-statistics  -o /scratch/statistics /scratch/grid-setup/run0001
\fP
.fi 
 
.SH "AUTHORS"
Prasanth Thomas 
.PP 
.br 
PEGASUS
.B http://pegasus.isi.edu

