.\" This file or a portion of this file is licensed under the terms of
.\" the Globus Toolkit Public License, found in file GTPL, or at
.\" http://www.globus.org/toolkit/download/license.html. This notice must
.\" appear in redistributions of this file, with or without modification.
.\"
.\" Redistributions of this Software, with or without modification, must
.\" reproduce the GTPL in: (1) the Software, or (2) the Documentation or
.\" some other similar material which is provided with the Software (if
.\" any).
.\"
.\" Copyright 1999-2004 University of Chicago and The University of
.\" Southern California. All rights reserved.
.\"
.\" $Id$
.\"
.\" Authors: Jens-S. Vöckler, Yong Zhao
.\"
.\"
.TH vds-version 1 "July, 15th 2005"
.SH NAME
vds-version \- print the version of the toolkit.
.SH SYNOPSIS
.B vds-version [ [-q] -m | -V | -f ]
.SH DESCRIPTION
This small program just invokes Java to print the version string on
.IR stdout .
.SH ARGUMENTS
.TP
.B \-Dprop
The -D options allows an experienced user to override certain properties
which influence the program execution, among them the default location of
the user's properties file and the VDS home location. One may set several
CLI properties by giving this option multiple times.
.I The -D option(s) must be the first option on the command line. 
CLI properties take precedence over the file-based properties of the same key.
.TP
.B \-f
.PD 0
.TP
.PD 1
.B \-\-full
The full mode displays the internal time stamp of the built time in
addition to the version number. The time stamp uses ISO 8601 format, and
is a UTC stamp. 
.TP
.B \-m
.PD 0
.TP
.PD 1
.B \-\-match
In match mode, the internal version is checked against the external
version of the installation. This mode will detect if a jar has been
updated but not the installation it is in. Mismatches will result in an
exit code of 1. 
.TP
.B \-q
.PD 0
.TP
.PD 1
.B \-\-quiet
This flag is to be combined with match mode above only. If present, the
match mode will not display any message if all is well. In case of a
mismatch, it will only print the error and exit with status 1. 
.TP
.PD 0
.B \-V
.TP
.PD 1
.B \-\-version
displays the version of the GriPhyN Virtual Data System you are using.
.TP
.B \-\-verbose
is ignore in this tool. However, to provide a uniform interface for all
tools, the option is recognized and will not trigger an error. 
.SH "RETURN VALUE"
The program will usually return with success (0). In match mode, if the
internal version does not match the external installation, an exit code
of 1 is returned. If run-time errors are detected, an exit code of 2 is
returned, 3 for fatal errors.
.SH "ENVIRONMENT VARIABLES"
.TP
.B $VDS_HOME
is the suggested base directory of your the execution environment.
.TP
.B $JAVA_HOME
should be set and point to a valid location to start the intended Java
virtual machine as
.IR $JAVA_HOME/bin/java .
.TP
.B $CLASSPATH
should be set to contain all necessary files for the execution environment.
.SH EXAMPLE
.nf
\f(CB
$ vds-version   
1.3.8

$ vds-version -f
1.3.8-20050715180634Z

$ vds-version -m 
Timestamp internal in VDS: 20050715180634Z
Timestamp of installation: 20050715180634Z
OK: Internal version matches installation.
\fP
.fi
.PP
.SH AUTHORS
Jens-S. Vöckler <voeckler at cs dot uchicago dot edu>,
.\"Jens-S. V\*:ockler 
.br
Mike Wilde <wilde at mcs dot anl dot gov>,
.br
Yong Zhao <yongzh at cs dot uchicago dot edu>.
.PP
Chimera
.B http://www.griphyn.org/chimera/
.br
GriPhyN
.BR http://www.griphyn.org/
