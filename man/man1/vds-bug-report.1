.\" This file or a portion of this file is licensed under the terms of
.\" the Globus Toolkit Public License, found in file GTPL, or at
.\" http://www.globus.org/toolkit/download/license.html. This notice must
.\" appear in redistributions of this file, with or without modification.
.\" 
.\" Redistributions of this Software, with or without modification, must
.\" reproduce the GTPL in: (1) the Software, or (2) the Documentation or
.\" some other similar material which is provided with the Software (if
.\" any).
.\" 
.\" Copyright 1999-2004 University of Chicago and The University of
.\" Southern California. All rights reserved.
.\" 
.\" $Id: vds-bug-report.1,v 1.2 2006/07/12 15:22:05 benc Exp $
.TH "vds-bug-report" "1" "1.3.10" "GriPhyN Virtual Data System"
.SH "NAME"
.LP 
vds\-bug\-report \- aide the support to collect a workflow for bug reports
.SH "SYNTAX"
.LP 
.B vds\-bug\-report \-\-help
.LP
.B vds\-bug\-report \-\-version
.LP 
.B vds\-bug\-report [\-Dprops] [\-v] \-d dax rundir [file [..]]
.SH "DESCRIPTION"
.LP 
This script aides a user to provide all interesting information to the
support team. The script creates a compressed tarball of all files in
the workflow's run directory on the submit host, the dax file, several
ancilliary files and an information file. Additional files or
directories may be added by specifying them after the run directory on
the command-line.
.SH "ARGUMENTS"
.TP
.B \-Dprop
The -D options allows an experienced user to override certain properties
which influence the program execution, among them the default location of
the user's properties file and the VDS home location. One may set several
CLI properties by giving this option multiple times.
.I The -D option(s) must be the first option on the command line. 
CLI properties take precedence over the file-based properties of the
same key. 
.TP
.B \-\-verbose
.PD 0
.TP
.PD 1
.B \-v
raises debug level. A higher debug level will increase the verbosity of
the output messages on
.IR stderr .
This is a multi\-option, each specification will increase the debug
level by 1.
.IP 
There is no verbosity implemented at the moment. 
.TP
.B \-\-version
.PD 0
.TP
.PD 1
.B \-V
display a short version message and exits.
.TP
.B \-\-help
.PD 0
.TP
.PD 1
.B \-h
shows a brief help message on the usage and exits. 
.TP
.B \-\-dax fn
.PD 0
.TP
.PD 1
.B \-d fn
is a mandatory option. It points to the DAX file that contains the
abstract workflow which was planned. 
.IP
If and only if you no longer have your dax file, you can use 
.IR /dev/null .
We do not encourage arbitrary use of a by-pass.
.TP
.B rundir
is a mandatory argument. It points to the working directory on the
submit host, where the Condor DAGMan's .dag file resides. Subdirectories
will be automatically collected. 
.TP
.B [file [..]]
It is possible to provide additional files and directory contents you
think useful to aide support finding the cause of your problem. These
files and directories are listed on the command-line after the run
directory. 
.SH "RETURN VALUE"
If the tar ball could be created, 
.I vds\-bug\-report
returns with an exit code of 0. However, in case of error, a non-zero
exit code indicates problems. An error message clearly marks the cause. 
.SH "ENVIRONMENT VARIABLES"
.TP
.B VDS_HOME
points to the installation base directory of your the VDS execution
environment. 
.TP
.B PERL5LIB
is a path-like variable. It must include to the VDS perl module
installation. 
.TP
.B PATH
should include the Condor binaries. 
.SH "EXAMPLES"
.LP
The following example has many messages removed:
.nf 
\f(CB
$ vds-bug-report -d blackdiamond.dax ivdgl1/black-diamond/run0001
#
# VDS basics
#
vds-bug-report 1.11

 [...]

I have collected information about the directory and your system.
Please send bug.jcl4nt.tar.gz as a proper binary attachment to

	vds-support@griphyn.org

Remember to include your bug description in the regular email body.

\fP
.fi 
.SH "AUTHORS"
.LP 
Jens\-S. Vöckler <voeckler at cs dot uchicago dot edu>
.PP 
GVDS
.B http://www.griphyn.org/vds/
.br 
GriPhyN
.BR http://www.griphyn.org/
